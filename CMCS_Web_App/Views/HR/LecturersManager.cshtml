@model IEnumerable<CMCS_Web_App.Models.User>

@{
    Layout = "~/Views/Shared/_HRLayout.cshtml";
    ViewData["Title"] = "Manage Lecturer Users";
}

<div class="max-w-6xl mx-auto bg-white rounded-2xl shadow-lg p-6 mt-6">
    <div class="flex justify-between items-center mb-4">
        <h2 class="text-2xl font-bold text-gray-800">Lecturer Accounts</h2>
        <a href="/HR/CreateUser"
           class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded">
            + Create User
        </a>
    </div>

    @if (Model != null && Model.Any())
    {
        <table class="min-w-full border-collapse border border-gray-300">
            <thead class="bg-gray-900 text-white">
                <tr>
                    <th class="py-3 px-4 text-left">Username (Email)</th>
                    <th class="py-3 px-4 text-left">Role</th>
                    <th class="py-3 px-4 text-left">Actions</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var user in Model.OrderBy(u => u.LastName))
                {
                    <tr class="border-b hover:bg-gray-50">
                        <td class="py-2 px-4">@user.Email</td>
                        <td class="py-2 px-4">@user.Role</td>
                        <td class="py-2 px-4 space-x-2">
                            <a href="/HR/EditUser/@user.UserId"
                               class="inline-block bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-1 px-3 rounded">
                                Edit
                            </a>
                            <form asp-action="DeleteUser" asp-route-id="@user.UserId" method="post" class="inline">
                                <button type="submit"
                                        class="bg-red-600 hover:bg-red-700 text-white font-semibold py-1 px-3 rounded"
                                        onclick="return confirm('Are you sure you want to delete this user?');">
                                    Delete
                                </button>
                            </form>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    }
    else
    {
        <p class="text-center text-gray-600">No lecturer users found.</p>
    }
</div>

